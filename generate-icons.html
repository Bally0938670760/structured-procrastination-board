<!DOCTYPE html>
<html lang="zh-Hant">
<head>
	<meta charset="UTF-8">
	<title>生成圖示</title>
</head>
<body>
	<canvas id="canvas192" width="192" height="192"></canvas>
	<canvas id="canvas512" width="512" height="512"></canvas>
	<script>
		function drawIcon(canvas, size){
			const ctx = canvas.getContext('2d');
			const scale = size / 512;
			
			// 背景
			ctx.fillStyle = '#151a20';
			ctx.roundRect(0, 0, size, size, size * 0.156).fill();
			
			// 四個任務欄位
			ctx.fillStyle = '#1b222b';
			ctx.strokeStyle = '#283241';
			ctx.lineWidth = 3 * scale;
			
			for(let i = 0; i < 4; i++){
				const x = (40 + i * 110) * scale;
				const y = 60 * scale;
				const w = 90 * scale;
				const h = 380 * scale;
				ctx.roundRect(x, y, w, h, 8 * scale).fill();
				ctx.stroke();
			}
			
			// 任務卡片
			ctx.fillStyle = '#0e1622';
			ctx.strokeStyle = '#283241';
			ctx.lineWidth = 2 * scale;
			
			const cards = [
				[50, 80, 70, 60], [50, 150, 70, 50],
				[160, 80, 70, 60], [160, 150, 70, 50],
				[270, 80, 70, 60], [270, 150, 70, 50],
				[380, 80, 70, 60], [380, 150, 70, 50]
			];
			
			cards.forEach(([x, y, w, h]) => {
				ctx.roundRect(x * scale, y * scale, w * scale, h * scale, 6 * scale).fill();
				ctx.stroke();
			});
			
			// 優先度圓點
			const dots = [
				[60, 95, '#ef4444'], [60, 165, '#f59e0b'],
				[170, 95, '#22c55e'], [280, 95, '#f59e0b'],
				[390, 95, '#f59e0b']
			];
			
			dots.forEach(([x, y, color]) => {
				ctx.fillStyle = color;
				ctx.beginPath();
				ctx.arc(x * scale, y * scale, 4 * scale, 0, Math.PI * 2);
				ctx.fill();
			});
			
			// 計時器圖示
			const centerX = 256 * scale;
			const centerY = 380 * scale;
			const radius = 35 * scale;
			
			ctx.strokeStyle = '#3b82f6';
			ctx.lineWidth = 4 * scale;
			ctx.beginPath();
			ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
			ctx.stroke();
			
			// 時針
			ctx.lineWidth = 3 * scale;
			ctx.beginPath();
			ctx.moveTo(centerX, centerY);
			ctx.lineTo(centerX, centerY - radius * 0.43);
			ctx.stroke();
			
			// 分針
			ctx.beginPath();
			ctx.moveTo(centerX, centerY);
			ctx.lineTo(centerX + radius * 0.34, centerY);
			ctx.stroke();
		}
		
		// 繪製兩個尺寸
		drawIcon(document.getElementById('canvas192'), 192);
		drawIcon(document.getElementById('canvas512'), 512);
		
		// 下載功能
		function downloadCanvas(canvas, filename){
			canvas.toBlob(blob => {
				const url = URL.createObjectURL(blob);
				const a = document.createElement('a');
				a.href = url;
				a.download = filename;
				a.click();
				URL.revokeObjectURL(url);
			});
		}
		
		// 添加下載按鈕
		setTimeout(() => {
			downloadCanvas(document.getElementById('canvas192'), 'icon-192.png');
			setTimeout(() => {
				downloadCanvas(document.getElementById('canvas512'), 'icon-512.png');
				document.body.innerHTML += '<p>圖示已下載！請將 icon-192.png 和 icon-512.png 上傳到 GitHub 倉庫根目錄。</p>';
			}, 500);
		}, 500);
	</script>
</body>
</html>
